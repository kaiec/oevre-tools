module.exports.pathToRoot = (node) ->
  if node == null then return null
  result = node.localName + " (" + node.nodeType + ")"
  if (node.parentNode.nodeType!=9)
    result += " -> "
    result += @pathToRoot(node.parentNode)
  return result

module.exports.insertAfter = (what, node) ->
  node.parentNode.insertBefore(what,node.nextSibling)

module.exports.readXmlFile = (file) ->
  fs = require('fs');
  parser = require('xmldom').DOMParser
  fileData = fs.readFileSync(file, 'utf8')
  doc = new parser().parseFromString(fileData)
  return doc

module.exports.createNode = (xml) ->
  parser = require('xmldom').DOMParser
  node = new parser().parseFromString(xml)
  return node

module.exports.nextElementSibling = (node) ->
  next = node.nextSibling
  if (next==null or next==undefined) then return next
  if (next.nodeType==1) then return next
  return module.exports.nextElementSibling(next)
